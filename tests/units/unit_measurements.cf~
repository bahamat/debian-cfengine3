#
# Enterprise level promises to watch data
#


#######################################################

body monitor control
{
forgetrate => "0.7";
histograms => "true";
}

bundle monitor watch

{
measurements:

  "/home/mark/tmp/testmeasure"

   handle => "blonk_watch",
   stream_type => "file",
   data_type => "string",
   history_type => "weekly",
   units => "blonks",
   match_value => find_blonks,
   action => sample_min("10");
}

body action sample_min(x)
{
ifelapsed => "$(x)";
expireafter => "$(x)";
}

body match_value find_blonks
{
select_line_number => "2";
extraction_regex => "Blonk blonk ([blonk]+).*";

}

#
# Test file:
#
# First line
# Blonk blonk bnklkygsuilnm
#

body common control
{
bundlesequence => { "watch" };
}
