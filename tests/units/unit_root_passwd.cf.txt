***********************************************************
 Promises 
***********************************************************
Bundle g in the context of common

   ARGS:

   {
   TYPE: vars

      vars promise by 'secret_keys_dir' (implicit) if context is any

             string => /tmp       if body context any
            Promise (version 1.2.3) belongs to bundle 'g' (type common) in file '../tests/units/unit_root_passwd.cf' near line 20

   }


Bundle SetRootPassword in the context of agent

   ARGS:

   {
   TYPE: files

      files promise by '/var/cfengine/ppkeys/rootpw.txt' (implicit) if context is any

          copy_from => scp body for type copy_from
               arg from
               arg server

               {
               source => $(from) if sub-body context any
               compare => digest if sub-body context any
               encrypt => true if sub-body context any
               verify => true if sub-body context any
               }
            Promise (version 1.2.3) belongs to bundle 'SetRootPassword' (type agent) in file '../tests/units/unit_root_passwd.cf' near line 33

      files promise by '/tmp/shadow' (implicit) if context is any

          edit_line => SetPasswd(root,)            Promise (version 1.2.3) belongs to bundle 'SetRootPassword' (type agent) in file '../tests/units/unit_root_passwd.cf' near line 41

   }


Bundle SetPasswd in the context of edit_line

   ARGS:

   scalar arg user

   {
   TYPE: vars

      vars promise by 'gotpw' (implicit) if context is any

                int => 1       if body context any
            Promise (version 1.2.3) belongs to bundle 'SetPasswd' (type edit_line) in file '../tests/units/unit_root_passwd.cf' near line 54

   TYPE: field_edits

      field_edits promise by '$(user).*' (implicit) if context is any

         edit_field => col body for type edit_field
               arg split
               arg col
               arg newval
               arg method

               {
               field_separator => $(split) if sub-body context any
               select_field => $(col) if sub-body context any
               value_separator => , if sub-body context any
               field_value => $(newval) if sub-body context any
               field_operation => $(method) if sub-body context any
               extend_fields => true if sub-body context any
               }
            Promise (version 1.2.3) belongs to bundle 'SetPasswd' (type edit_line) in file '../tests/units/unit_root_passwd.cf' near line 63

   }




All Bodies

control body for type common(no parameters)
   {
   version => 1.2.3 if sub-body context any
   bundlesequence =>  {'SetRootPassword'} if sub-body context any
   }

col body for type edit_field
   arg split
   arg col
   arg newval
   arg method

   {
   field_separator => $(split) if sub-body context any
   select_field => $(col) if sub-body context any
   value_separator => , if sub-body context any
   field_value => $(newval) if sub-body context any
   field_operation => $(method) if sub-body context any
   extend_fields => true if sub-body context any
   }

scp body for type copy_from
   arg from
   arg server

   {
   source => $(from) if sub-body context any
   compare => digest if sub-body context any
   encrypt => true if sub-body context any
   verify => true if sub-body context any
   }

