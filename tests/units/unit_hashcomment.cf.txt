***********************************************************
 Promises 
***********************************************************
Bundle testbundle in the context of agent

   ARGS:

   {
   TYPE: vars

      vars promise by 'mylines' (implicit) if context is any

              slist =>  {'one.*','two.*','four.*'}       if body context any
            Promise (version 1.2.3) belongs to bundle 'testbundle' (type agent) in file '../tests/units/unit_hashcomment.cf' near line 22

   TYPE: files

      files promise by '/home/mark/tmp/comment_test' (implicit) if context is any

             create => true       if body context any
          edit_line => comment_lines_matching(@(testbundle.mylines),# ,)            Promise (version 1.2.3) belongs to bundle 'testbundle' (type agent) in file '../tests/units/unit_hashcomment.cf' near line 28

   }


Bundle comment_lines_matching in the context of edit_line

   ARGS:

   scalar arg reg

   scalar arg comment

   {
   TYPE: vars

      vars promise by 'regexes' (implicit) if context is any

              slist =>  {'@(reg)'}       if body context any
            Promise (version 1.2.3) belongs to bundle 'comment_lines_matching' (type edit_line) in file '../tests/units/unit_hashcomment.cf' near line 38

   TYPE: replace_patterns

      replace_patterns promise by '^($(regexes))$' (implicit) if context is any

         replace_with => comment body for type replace_with
               arg c

               {
               replace_value => $(c) $(match.1) if sub-body context any
               occurrences => all if sub-body context any
               }
            Promise (version 1.2.3) belongs to bundle 'comment_lines_matching' (type edit_line) in file '../tests/units/unit_hashcomment.cf' near line 43

   }




All Bodies

control body for type common(no parameters)
   {
   version => 1.2.3 if sub-body context any
   bundlesequence =>  {'testbundle'} if sub-body context any
   }

comment body for type replace_with
   arg c

   {
   replace_value => $(c) $(match.1) if sub-body context any
   occurrences => all if sub-body context any
   }

