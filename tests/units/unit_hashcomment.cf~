######################################################################
#
# Comment lines
#
######################################################################


body common control

{
version => "1.2.3";
bundlesequence  => { "testbundle"  };
}

########################################################

bundle agent testbundle

{

files:

  "/home/mark/tmp/comment_test"

       create    => "true",
       edit_line => comment_lines_matching("myline.*","# ");
}

########################################################

bundle edit_line comment_lines_matching(regex,comment)
  {
  replace_patterns:

   "^($(regex))$"
      replace_with => comment("$(comment)");
  }

########################################
# Bodies
########################################

body replace_with comment(c)

{
replace_value => "$(c) $(match.1)";
occurrences => "all";
}

