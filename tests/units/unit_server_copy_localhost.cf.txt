***********************************************************
 Promises 
***********************************************************
Bundle testbundle in the context of agent

   ARGS:

   {
   TYPE: vars

   TYPE: classes

   TYPE: files

      files promise by '/home/mark/tmp/testcopy' (implicit) if context is any

          copy_from => mycopy body for type copy_from
               arg from
               arg server

               {
               source => $(from) if sub-body context any
               servers =>  {'$(server)'} if sub-body context any
               copy_backup => true if sub-body context any
               purge => false if sub-body context any
               type_check => true if sub-body context any
               force_ipv4 => true if sub-body context any
               }
              perms => system body for type perms(no parameters)
               {
               mode => 0644 if sub-body context any
               }
       if body context any
         depth_search => recurse body for type depth_search
               arg d

               {
               depth => $(d) if sub-body context any
               }
            Promise (version 1.2.3) belongs to bundle 'testbundle' (type agent) in file '../tests/units/unit_server_copy_localhost.cf' near line 40

   }


Bundle access_rules in the context of server

   ARGS:

   {
   TYPE: access

      access promise by '/home/mark/LapTop' (implicit) if context is any

              admit =>  {'127.0.0.1'}       if body context any
            Promise (version 1.2.3) belongs to bundle 'access_rules' (type server) in file '../tests/units/unit_server_copy_localhost.cf' near line 96

   }




All Bodies

control body for type common(no parameters)
   {
   bundlesequence =>  {'testbundle'} if sub-body context any
   version => 1.2.3 if sub-body context any
   }

system body for type perms(no parameters)
   {
   mode => 0644 if sub-body context any
   }

recurse body for type depth_search
   arg d

   {
   depth => $(d) if sub-body context any
   }

mycopy body for type copy_from
   arg from
   arg server

   {
   source => $(from) if sub-body context any
   servers =>  {'$(server)'} if sub-body context any
   copy_backup => true if sub-body context any
   purge => false if sub-body context any
   type_check => true if sub-body context any
   force_ipv4 => true if sub-body context any
   }

control body for type server(no parameters)
   {
   allowconnects =>  {'127.0.0.1','::1'} if sub-body context any
   allowallconnects =>  {'127.0.0.1','::1'} if sub-body context any
   trustkeysfrom =>  {'127.0.0.1','::1'} if sub-body context any
   }

